import{a as $,_ as B,u as S,r as h,b as G,c as w,d as l,e as _,f as s,t,F as C,i as I,l as P,w as r,m as H,A as R,h as o,B as q,C as D,D as F,H as j,I as J,J as M,k as c,p as U,n as X}from"./index-f4823431.js";import{E as K,a as O}from"./breadcrumb-item-abc5a501.js";const Q=a=>$({url:"/goods",params:{id:a}}),W=({id:a,type:p,limit:g=3})=>$({url:"/goods/hot",params:{id:a,type:p,limit:g}});const Y={class:"goods-hot"},Z={alt:""},ss={class:"name ellipsis"},es={class:"desc ellipsis"},ts={class:"price"},os={__name:"DetailHot",props:{hotType:{type:Number,default:1}},setup(a){const p=a,g=S(),e=h({id:g.params.goodsId,type:p.hotType,limit:3}),k=h([]);return(async f=>{const{result:v}=await W(f);k.value=v})(e.value),(f,v)=>{const x=G("RouterLink"),i=w("img-lazy");return l(),_("div",Y,[s("h3",null,t(p.hotType===1?"24小时热榜":"周热榜"),1),(l(!0),_(C,null,I(k.value,d=>(l(),P(x,{to:"/",class:"goods-item",key:d.id},{default:r(()=>[H(s("img",Z,null,512),[[i,d.picture]]),s("p",ss,t(d.name),1),s("p",es,t(d.desc),1),s("p",ts,"¥"+t(d.price),1)]),_:2},1024))),128))])}}},T=B(os,[["__scopeId","data-v-e9534dc6"]]);const n=a=>(U("data-v-24edf8ca"),a=a(),X(),a),as={class:"xtx-goods-page"},ns={key:0,class:"container"},ls={class:"bread-container"},cs={class:"info-container"},is={class:"goods-info"},ds={class:"media"},us={class:"goods-sales"},_s=n(()=>s("p",null,"销量人气",-1)),rs=n(()=>s("p",null,[s("i",{class:"iconfont icon-task-filling"}),c("销量人气")],-1)),ps=n(()=>s("p",null,"商品评价",-1)),vs=n(()=>s("p",null,[s("i",{class:"iconfont icon-comment-filling"}),c("查看评价")],-1)),gs=n(()=>s("p",null,"收藏人气",-1)),ms=n(()=>s("p",null,[s("i",{class:"iconfont icon-favorite-filling"}),c("收藏商品")],-1)),hs=n(()=>s("p",null,"品牌信息",-1)),fs=n(()=>s("p",null,[s("i",{class:"iconfont icon-dynamic-filling"}),c("品牌主页")],-1)),ys={class:"spec"},ks={class:"g-name"},xs={class:"g-desc"},Cs={class:"g-price"},Is=n(()=>s("div",{class:"g-service"},[s("dl",null,[s("dt",null,"促销"),s("dd",null,"12月好物放送，App领券购买直降120元")]),s("dl",null,[s("dt",null,"服务"),s("dd",null,[s("span",null,"无忧退货"),s("span",null,"快速退款"),s("span",null,"免费包邮"),s("a",{href:"javascript:;"},"了解详情")])])],-1)),bs={class:"goods-footer"},Ds={class:"goods-article"},Ts={class:"goods-tabs"},$s=n(()=>s("nav",null,[s("a",null,"商品详情")],-1)),Bs={class:"goods-detail"},Ss={class:"attrs"},ws={class:"dt"},Hs={class:"dd"},Ls={class:"goods-aside"},Es={__name:"index",setup(a){const p=S(),g=R(),e=h({});(async()=>{const{result:i}=await Q(p.params.goodsId);e.value=i})();const m=h({}),f=i=>{m.value=i},v=h(1),x=()=>{if(!m.value.skuId)D.error("请选择商品规格");else{const i={id:e.value.id,name:e.value.name,picture:e.value.mainPictures[0],price:e.value.price,count:v.value,skuId:m.value.skuId,attrsText:m.value.specsText,selected:!0};g.addToCart(i),D.success("加入购物车成功")}};return(i,d)=>{var b;const y=O,L=K,E=F,N=j,z=J,A=M,V=w("img-lazy");return l(),_("div",as,[e.value.id?(l(),_("div",ns,[s("div",ls,[o(L,{separator:">"},{default:r(()=>[o(y,{to:{path:"/"}},{default:r(()=>[c("首页")]),_:1}),o(y,{to:{path:`/category/${e.value.categories[1].id}`}},{default:r(()=>[c(t(e.value.categories[1].name),1)]),_:1},8,["to"]),o(y,{to:{path:`/category/sub/${e.value.categories[0].id}`}},{default:r(()=>[c(t(e.value.categories[0].name),1)]),_:1},8,["to"]),o(y,null,{default:r(()=>[c(t(e.value.name),1)]),_:1})]),_:1})]),s("div",cs,[s("div",null,[s("div",is,[s("div",ds,[o(E,{"image-list":e.value.mainPictures},null,8,["image-list"]),s("ul",us,[s("li",null,[_s,s("p",null,t(e.value.salesCount),1),rs]),s("li",null,[ps,s("p",null,t(e.value.commentCount),1),vs]),s("li",null,[gs,s("p",null,t(e.value.collectCount),1),ms]),s("li",null,[hs,s("p",null,t(((b=e.value.brand)==null?void 0:b.name)||"苏宁电器"),1),fs])])]),s("div",ys,[s("p",ks,t(e.value.name),1),s("p",xs,t(e.value.desc),1),s("p",Cs,[s("span",null,t(e.value.price),1),s("span",null,t(e.value.oldPrice),1)]),Is,o(N,{goods:e.value,onChange:f},null,8,["goods"]),o(z,{count:v.value,"onUpdate:count":d[0]||(d[0]=u=>v.value=u),skuId:""},null,8,["count"]),s("div",null,[o(A,{size:"large",class:"btn",onClick:x},{default:r(()=>[c(" 加入购物车 ")]),_:1})])])]),s("div",bs,[s("div",Ds,[s("div",Ts,[$s,s("div",Bs,[s("ul",Ss,[(l(!0),_(C,null,I(e.value.details.properties,u=>(l(),_("li",{key:u.value},[s("span",ws,t(u.name),1),s("span",Hs,t(u.value),1)]))),128))]),(l(!0),_(C,null,I(e.value.details.pictures,u=>H((l(),_("img",{key:u,alt:""})),[[V,u]])),128))])])]),s("div",Ls,[o(T,{hotType:1}),o(T,{hotType:2})])])])])])):q("",!0)])}}},As=B(Es,[["__scopeId","data-v-24edf8ca"]]);export{As as default};
